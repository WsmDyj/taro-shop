(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"100":function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r,o,a=n(0),i=n(2),c=n(315),s=n(104),l=n.n(s),u=n(103),A=(n(105),n(107)),p=n.n(A),f=n(108),h=n.n(f),d=n(109),m=n.n(d),y=n(110),g=n.n(y),v=n(111),b=n.n(v),w=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=[{"placeholder":"homeBanner","name":"首页banner","img":p.a},{"placeholder":"goodsList","name":"商品列表","img":h.a},{"placeholder":"cateIcon","name":"分类icon","img":h.a},{"placeholder":"cateBanner","name":"分类banner","img":p.a},{"placeholder":"detailsBanner","name":"商品详情banner","img":m.a},{"placeholder":"goodsRecommen","name":"为你推荐","img":g.a},{"placeholder":"userAvatar","name":"用户头像","img":b.a}],C=(o=r=function(e){function imagerLoader(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,imagerLoader);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=_possibleConstructorReturn(this,(e=imagerLoader.__proto__||Object.getPrototypeOf(imagerLoader)).call.apply(e,[this].concat(o))),n.state={"imgUrl":"","imgLoadList":[]},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(imagerLoader,i["a"].Component),w(imagerLoader,[{"key":"filterImgLoader","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(e){var t,n=this;return regeneratorRuntime.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_.filter(function(t){return t.placeholder===e.placeholder});case 2:t=r.sent,this.setState({"imgUrl":t[0].img}),this.imgLoader=new l.a(this),this.imgLoader.load(Object(u.a)(e.src),function(e,t){e||n.setState({"imgUrl":Object(u.a)(t.src)})});case 6:case"end":return r.stop()}},_callee,this)}));return function filterImgLoader(t){return e.apply(this,arguments)}}()},{"key":"componentWillMount","value":function componentWillMount(){this.filterImgLoader(this.props)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){this.props.src!==e.src&&this.filterImgLoader(e)}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.imgUrl,r=t.imgLoadList;return a.l.createElement(a.l.Fragment,null,n&&a.l.createElement(c.a,{"lazy-load":!0,"className":this.props.placeholder,"src":n}),a.l.createElement(a.l.Fragment,null,r.map(function(t,n){return a.l.createElement(c.a,{"key":n,"src":t,"className":e.props.placeholder,"data-src":t,"binderror":e.binderror,"onLoad":e.imgLoader._imgOnLoad.bind(e.imgLoader),"onError":e.imgLoader._imgOnLoadError.bind(e.imgLoader),"style":"width: 0; height: 0; opacity: 0"})})))}}]),imagerLoader}(),r.defaultProps={"styles":{"width":"320px","height":"240px","borderRadius":""},"placeholder":""},o)},"103":function(e,t,n){"use strict";function formatUrl(e){return/(http|https):\/\/([\w.]+\/?)\S*/.test(e)?e:"https:"+e}n.d(t,"a",function(){return formatUrl})},"104":function(e,t){var n=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var r=function(){function ImgLoader(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ImgLoader),this.page=e,this.defaultCallback=t||function(){},this.callbacks={},this.imgInfo={},this.page.state.imgLoadList=[],this.page._imgOnLoad=this._imgOnLoad.bind(this),this.page._imgOnLoadError=this._imgOnLoadError.bind(this)}return n(ImgLoader,[{"key":"load","value":function load(e,t){if(e){var n=this.page.state.imgLoadList,r=this.imgInfo[e];t&&(this.callbacks[e]=t),r?this._runCallback(null,{"src":e,"width":r.width,"height":r.height}):-1==n.indexOf(e)&&(n.push(e),this.page.setState({"imgLoadList":n}))}}},{"key":"_imgOnLoad","value":function _imgOnLoad(e){var t=e.currentTarget.src,n=e.detail&&e.detail.width,r=e.detail&&e.detail.height;this.imgInfo[t]={"width":n,"height":r},this._removeFromLoadList(t),this._runCallback(null,{"src":t,"width":n,"height":r})}},{"key":"_imgOnLoadError","value":function _imgOnLoadError(e){var t=e.currentTarget.dataset.src;this._removeFromLoadList(t),this._runCallback("Loading failed",{"src":t})}},{"key":"_removeFromLoadList","value":function _removeFromLoadList(e){var t=this.page.state.imgLoadList;t.splice(t.indexOf(e),1),this.page.setState({"imgLoadList":t})}},{"key":"_runCallback","value":function _runCallback(e,t){(this.callbacks[t.src]||this.defaultCallback)(e,t),delete this.callbacks[t.src]}}]),ImgLoader}();e.exports=r},"105":function(e,t,n){},"107":function(e,t,n){e.exports=n.p+"static/images/homeBanner.c13eac0c02d36b64af4209bafa4cdeab.jpg"},"108":function(e,t){e.exports="data:image/jpeg;base64,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"},"109":function(e,t,n){e.exports=n.p+"static/images/detailsBanner.4c224b64368888b0bf3d004c49107cd0.jpg"},"110":function(e,t,n){e.exports=n.p+"static/images/goodsRecommen.c970cb8db1ded3bf30f6cd0fccdfa970.jpg"},"111":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+BAMAAAAQDbi7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURfjz8NTIvOPa0drQxe3l3/Pt6dJ8uJYAAAGKSURBVFjD7ZjNboMwEIT5vccxuZPS3qHJA4SouQPp+z9LkSJVBduw42mEqnrun9de744XoigoKCgoKCjoN5V/VI1Sp5eLH34d4YdePejPb3rUGQ+uJkIXiNVMJcanc35P8uAGEsVtwOQVVAWZyddkfOgAR5NXHZN+7AZs4YEE5DZcHZjsjyq44wMXYOe1f/c9FPg/wqdP4TXjHlD9sjzbfxnZ/3b/2Mn9q+H8y+5/cv8crPyppI4vv8DEwWuu/MV8vHH89En5K6jyBxrAwddU+QIF3Nv5jvMfTfa/3D+ilpx/soac3zJy/oyI7NkdsMD4lhp/LR4AfoQl3PeHkYAa5Xsm+0YNlzAf3ZnTz0poF/j/xl9/NoB+v2H0YPgHskJWWZ/fm8/WJ3uQvEB5pZzSb17WD/yIGdSK9h2FLy8gwJcWEOFuN0qUUGefzK/a6VGMK90t++2qCvHQ59BFNLK4deDCGxnoQX5+BQ3KF9T25y9yDPPTabbF+dKz9qwTSUPyOD59U7bmm634LwhiuCxbAoGfAAAAAElFTkSuQmCC"},"117":function(e,t,n){"use strict";n.d(t,"a",function(){return A});var r,o,a=n(0),i=n(2),c=n(11),s=n(163),l=n(164),u=(n(118),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var A=(o=r=function(e){function Loading(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Loading),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Loading.__proto__||Object.getPrototypeOf(Loading)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Loading,i["a"].Component),u(Loading,[{"key":"render","value":function render(){var e=this.props,t=e.loaded,n=e.loading,r=e.hasMore,o=e.fontSize;return a.l.createElement(c.a,{"className":"loading-container"},t&&a.l.createElement(s.a,{"size":64,"mode":"center","isOpened":t,"color":"#E93B3D"}),n&&a.l.createElement(c.a,{"className":"comp-loading"},a.l.createElement(s.a,{"color":"#999999","mode":"center","size":28,"content":"努力加载中..."})),r&&a.l.createElement(c.a,{"className":"comp-loading"},a.l.createElement(l.a,{"content":this.props.content,"fontSize":o,"fontColor":"#999999","lineColor":"#ccc"})))}}]),Loading}(),r.defaultProps={"loader":!1,"loading":!1,"hasMore":!1,"fontSize":20,"content":"触碰到我的底线了"},o)},"118":function(e,t,n){},"120":function(e,t,n){"use strict";function floatingAccSub(e,t){var n,r,o;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return((e*(o=Math.pow(10,Math.max(n,r)))-t*o)/o).toFixed(n>=r?n:r)}n.d(t,"a",function(){return floatingAccSub})},"122":function(e,t,n){"use strict";n.d(t,"i",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return A}),n.d(t,"f",function(){return p});var r=HOST,o=(HOST_M,HOST_C,HOST_C+"/itemInfo/searchCpsItemListByKeyword"),a=r+"/xhr/index/index.json",i=HOST_C+"/itemInfo/findCpsItemList",c=HOST_C+"/itemInfo/findItemCategory",s=HOST_C+"/itemInfo/findCpsItemListByCondition",l=HOST_C+"/itemInfo/findItemCategory",u=r+"/xhr/list/category.json",A=r+"/xhr/list/subCate.json",p=r+"/xhr/list/l2Items2.json"},"123":function(e,t,n){"use strict";var r=n(194),o=n(334),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}t.a=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n,i,c,s,l,u=this;return regeneratorRuntime.wrap(function _callee2$(A){for(;;)switch(A.prev=A.next){case 0:return t=e.url,n=e.payload,i=e.method,c=void 0===i?"GET":i,s=e.showToast,l=void 0===s||s,A.abrupt("return",Object(r.a)({"url":t,"method":c,"data":n}).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t,n;return regeneratorRuntime.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,t.code,n=t.data,r.abrupt("return",Promise.resolve(n));case 2:case"end":return r.stop()}},_callee,u)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t="600"===e.code?"登录失效":"请求异常";return l&&Object(o.b)({"title":e&&e.errorMsg||t,"icon":"none"}),Promise.reject(a({"message":t},e))}));case 2:case"end":return A.stop()}},_callee2,this)}));return function fetch(t){return e.apply(this,arguments)}}()},"128":function(e,t,n){var r=n(129);"string"==typeof r&&(r=[[e.i,r,""]]);var o={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(20)(r,o);r.locals&&(e.exports=r.locals)},"129":function(e,t,n){(e.exports=n(19)(!1)).push([e.i,"input {\n  display: block;\n  height: 1.4rem;\n  text-align: inherit;\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n}",""])},"130":function(e,t,n){"use strict";var r,o=n(0),a=n(2),i=n(339),c=n(330),s=n(11),l=n(116),u=n(100),A=n(120),p=n(103),f=(n(135),n(131)),h=n(22),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();t.a=Object(h.b)(function(e){return e.details},{"onGoodsChange":f.a})(r=function(e){function Goods(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Goods),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Goods.__proto__||Object.getPrototypeOf(Goods)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Goods,a["a"].Component),d(Goods,[{"key":"handleClick","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.onGoodsChange(e);case 2:return t.next=4,a.a.navigateTo({"url":"/pages/details/details"});case 4:case"end":return t.stop()}},_callee,this)}));return function handleClick(t){return e.apply(this,arguments)}}()},{"key":"copyData","value":function copyData(e){Object(i.a)({"data":e.itemName})}},{"key":"checkGoodsImg","value":function checkGoodsImg(e){var t=Object(p.a)(e.itemMainPicUrl);Object(c.a)({"current":t,"urls":[t]})}},{"key":"render","value":function render(){var e=this,t=this.props.goodsList,n=void 0===t?[]:t;return o.l.createElement(s.a,{"className":"goods"},n.map(function(t,n){return t.jdSelfSaleFlag=1===t.jdSelfSaleFlag?"京东自营":"京东",t.coupons=Object(A.a)(t.referPrice,t.salePrice),t.purchase=Object(A.a)(t.salePrice,t.rebatePrice),o.l.createElement(s.a,{"key":t.itemId,"className":"goodsItem"},o.l.createElement(s.a,{"className":"goodsItem-content","onClick":e.handleClick.bind(e,t)},o.l.createElement(s.a,{"className":"goodsItem-img"},o.l.createElement(u.a,{"placeholder":"goodsList","src":t.itemMainPicUrl})),o.l.createElement(s.a,{"className":"goodsItem-info"},o.l.createElement(s.a,{"className":"goodsItem-info__header"},o.l.createElement(s.a,{"className":"goodsItem-info__title"},o.l.createElement(l.a,{"className":"goodsItem-info__title--origin"},t.jdSelfSaleFlag),o.l.createElement(l.a,{"className":"goodsItem-info__title--name"},t.itemName)),o.l.createElement(s.a,{"className":"goodsItem-info__comment"},o.l.createElement(s.a,{"className":"goodsItem-info__jd-origin"},o.l.createElement(l.a,{"className":"goodsItem-info__jd-origin-desc"},"京东价"),o.l.createElement(l.a,{"className":"goodsItem-info__jd-origin-price"},"¥ ",t.referPrice)),o.l.createElement(s.a,{"className":"goodsItem-info__options-comment"},o.l.createElement(l.a,{"className":"goodsItem-info__options-comment--txt"},t.commentNum,"条评论"),o.l.createElement(l.a,null,"好评率",t.favorableRate,"%")))),o.l.createElement(s.a,{"className":"goodsItem-info__coupons"},t.coupons<=0?o.l.createElement(s.a,{"className":"goodsItem-info__coupons-buy"},"自购省¥ ",t.rebatePrice):o.l.createElement(s.a,{"className":"goodsItem-info__coupons-txt"},"券¥ ",t.coupons)),o.l.createElement(s.a,{"className":"goodsItem-info__jd"},o.l.createElement(s.a,{"className":"goodsItem-info__jd-price"},o.l.createElement(l.a,{"className":"goodsItem-info__jd-price-desc"},t.coupons<=0?"返利价":"券后价","¥"),o.l.createElement(l.a,{"className":"goodsItem-info__jd-price-count"},t.coupons<=0?t.purchase:t.salePrice)),o.l.createElement(s.a,{"className":"goodsItem-info__jd-recomment"},o.l.createElement(l.a,null,"推广赚¥ ",t.rebatePrice))))),o.l.createElement(s.a,{"className":"goodsItem-options"},o.l.createElement(s.a,{"className":"goodsItem-options__button goodsItem-options__copy","onClick":e.copyData.bind(e,t)},o.l.createElement(l.a,null,"复制文字")),o.l.createElement(s.a,{"className":"goodsItem-options__button goodsItem-options__share","onClick":e.checkGoodsImg.bind(e,t)},o.l.createElement(l.a,null,"分享图片"))))}))}}]),Goods}())||r},"131":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(23),o=function onGoodsChange(e){return{"type":r.a,"payload":e}}},"132":function(e,t,n){"use strict";n.d(t,"a",function(){return createSelectorQuery});var r=n(0),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter(e,t,n){if(!t)return null;var r=e.id,o=e.dataset,a=e.rect,i=e.size,c=e.scrollOffset,s=e.properties,l=void 0===s?[]:s,u=e.computedStyle,A=void 0===u?[]:u,p=t.getBoundingClientRect(),f=p.left,h=p.right,d=p.top,m=p.bottom,y=p.width,g=p.height,v="html"===n,b={};if(r&&(b.id=t.id),o&&(b.dataset=Object.assign({},t.dataset)),a&&(v?(b.left=0,b.right=0,b.top=0,b.bottom=0):(b.left=f,b.right=h,b.top=d,b.bottom=m)),i&&(v?(b.width=t.clientWidth,b.height=t.clientHeight):(b.width=y,b.height=g)),c&&(b.scrollLeft=t.scrollLeft,b.scrollTop=t.scrollTop,b.scrollHeight=t.scrollHeight,b.scrollWidth=t.scrollWidth),l.length&&l.forEach(function(e){var n=t.getAttribute(e);n&&(b[e]=n)}),A.length){var w=window.getComputedStyle(t);A.forEach(function(e){var t=w.getPropertyValue(e);t&&(b[e]=t)})}return b}var a=function(){function Query(){_classCallCheck(this,Query),this._defaultWebviewId=null,this._webviewId=null,this._queue=[],this._queueCb=[],this._component=null}return o(Query,[{"key":"in","value":function _in(e){return this._component=e,this}},{"key":"select","value":function select(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new i(e,this,!0)}},{"key":"selectAll","value":function selectAll(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new i(e,this,!1)}},{"key":"selectViewport","value":function selectViewport(){return new i("html",this,!0)}},{"key":"exec","value":function exec(e){var t=this;!function queryBat(e,t){var n=[];e.forEach(function(e){var t=e.selector,o=e.single,a=e.fields,i=e.component,c=null!==i&&r.l.findDOMNode(i)||document,s=!1;if(c!==document)for(var l=c.parentNode.querySelectorAll(t),u=0,A=l.length;u<A;++u)if(c===l[u]){s=!0;break}if(o){var p=!0===s?c:c.querySelector(t);n.push(filter(a,p,t))}else{var f=c.querySelectorAll(t),h=[];!0===s&&h.push(c);for(var d=0,m=f.length;d<m;++d)h.push(f[d]);n.push(h.map(function(e){return filter(a,e)}))}}),t(n)}(this._queue,function(n){var r=t._queueCb;n.forEach(function(e,n){"function"==typeof r[n]&&r[n].call(t,e)}),"function"==typeof e&&e.call(t,n)})}},{"key":"_push","value":function _push(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._queue.push({"component":t,"selector":e,"single":n,"fields":r}),this._queueCb.push(o)}}]),Query}(),i=function(){function NodesRef(e,t,n){_classCallCheck(this,NodesRef),this._component=t._component,this._selector=e,this._selectorQuery=t,this._single=n}return o(NodesRef,[{"key":"boundingClientRect","value":function boundingClientRect(e){var t=this._selector,n=this._component,r=this._single,o=this._selectorQuery;return o._push(t,n,r,{"id":!0,"dataset":!0,"rect":!0,"size":!0},e),o}},{"key":"scrollOffset","value":function scrollOffset(e){var t=this._selector,n=this._component,r=this._single,o=this._selectorQuery;return o._push(t,n,r,{"id":!0,"dataset":!0,"scrollOffset":!0},e),o}},{"key":"fields","value":function fields(e,t){var n=this._selector,r=this._component,o=this._single,a=this._selectorQuery,i=e.id,c=e.dataset,s=e.rect,l=e.size,u=e.scrollOffset,A=e.properties,p=void 0===A?[]:A,f=e.computedStyle,h=void 0===f?[]:f;return a._push(n,r,o,{"id":i,"dataset":c,"rect":s,"size":l,"scrollOffset":u,"properties":p,"computedStyle":h},t),a}}]),NodesRef}();function createSelectorQuery(){return new a}},"134":function(e,t,n){"use strict";var r=n(132),o=n(1),a=void 0,i=void 0,c=function pageScrollTo(e){var t=e.scrollTop,n=e.duration,r=void 0===n?300:n,c=e.success,s=e.fail,l=e.complete;return new Promise(function(e,n){try{if(void 0===t)throw Error('"scrollTop" is required');var u=document.querySelector(".taro-tabbar__panel")||window;a||(a=u===window?function scrollFunc(e){if(void 0===e)return window.pageYOffset;window.scrollTo(0,e)}:function scrollFunc(e){if(void 0===e)return u.scrollTop;u.scrollTop=e});var A=a(),p=t-A,f=r/17,h=Object(o.f)(o.c,f);!function scroll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=A+p*h(t);if(a(n),t<f)i&&clearTimeout(i),i=setTimeout(function(){scroll(t+1)},17);else{var r={"errMsg":"pageScrollTo:ok"};c&&c(r),l&&l(),e(r)}}()}catch(e){var d={"errMsg":"pageScrollTo:fail "+e.message};s&&s(d),l&&l(),n(d)}})};function backToTop(e){Object(r.a)().select("#app").boundingClientRect(function(t){c({"scrollTop":-1,"duration":e})}).exec()}n.d(t,"a",function(){return backToTop})},"135":function(e,t,n){},"141":function(e,t,n){"use strict";n.d(t,"a",function(){return createAction});var r=n(123),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function createAction(e){var t=e.url,n=e.payload,a=e.method,i=e.fetchOptions,c=e.cb,s=e.type;return function(e){return Object(r.a)(o({"url":t,"payload":n,"method":a},i)).then(function(t){return e({"type":s,"payload":c?c(t):t}),t})}}},"166":function(e,t,n){"use strict";n(9);var r=n(0),o=n(21),a=n(4),i=n.n(a),c=(n(128),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error("unexpected type");return"search"===t&&(e="search"),n&&(e="password"),"digit"===e&&(e="number"),e}var l=function(e){function Input(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Input);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,r["l"].Component),s(Input,[{"key":"componentDidMount","value":function componentDidMount(){"file"===this.props.type&&this.inputRef.addEventListener("change",this.onInput)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){"file"===this.props.type&&this.inputRef.removeEventListener("change",this.onInput)}},{"key":"onInput","value":function onInput(e){var t=this.props,n=t.type,r=t.maxLength,o=t.confirmType,a=t.password,i=t.onInput,onInput=void 0===i?"":i,c=t.onChange,s=void 0===c?"":c;if(!this.isOnComposition&&!this.onInputExcuted){var l=e.target.value,u=getTrueType(n,o,a);if(this.onInputExcuted=!0,"number"===u&&l&&r<=l.length&&(l=l.substring(0,r),e.target.value=l),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":l}}),!(["number","file"].indexOf(u)>=0)){var A=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=A,e.target.selectionEnd=A})}if(s)return s(e);if(onInput)return onInput(e)}}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"onKeyDown","value":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),n(e))}},{"key":"handleComposition","value":function handleComposition(e){e.target instanceof HTMLInputElement&&("compositionend"===e.type?(this.isOnComposition=!1,this.onInputExcuted=!1,this.onInput(e)):this.isOnComposition=!0)}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,a=void 0===n?"":n,s=t.placeholder,l=t.type,u=void 0===l?"text":l,A=t.password,p=t.disabled,f=t.maxLength,h=t.confirmType,d=void 0===h?"":h,m=t.focus,y=void 0!==m&&m,g=t.value,v=i()("weui-input",a),b=Object(o.a)(this.props,["className","placeholder","disabled","max","onChange","onFocus","onBlur","type","focus"]);return"value"in this.props&&(b.value=function fixControlledValue(e){return void 0===e||null===e?"":e}(g)),r.l.createElement("input",c({"ref":function ref(t){e.inputRef=t,t&&y&&t.focus()}},b,{"className":v,"placeholder":s,"disabled":p,"maxlength":f,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"autofocus":y,"onKeyDown":this.onKeyDown,"type":getTrueType(u,d,A),"onCompositionStart":this.handleComposition,"onCompositionEnd":this.handleComposition}))}}]),Input}();l.defaultProps={"type":"text"},t.a=l},"260":function(e,t,n){},"262":function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAdCAYAAABIWle8AAAACXBIWXMAAAsSAAALEgHS3X78AAABfklEQVRIiaWWzU3DQBCFH1Hu5M4q5MJe5oCpADqAEtIBoYOkAkgHSQWQCjAVECT7klOySgGkAqMxY2v9s17beZJl2V5/mjc/q0WSJN7rcHMVtFk3gEdGqycAodEq8K1thBmtRgBWAC7l3h9mgVi3Rqt50+IL9uqIagbgtebT3Xh33LaGGa0mALZWVLYOAILx7vhb/uCyuXKAWNcAau1WYJKXewco07PR6qH8smBTyv/tAWU6AZjYdsuRectvqdIuOcxo9cbl7wBjPUpTp0ptiv/PjqBMJ6nufmB1eV/ldoecxDNhqbg3nRPQR95do4uGcRxzNd7P5KRFGBDRB4DlmbA5Ee0zm3MZ4D7aEBH36H/OiIhHYtrTXv5fXgAiCgEsOsKmEkiqSmvEcbxtOVZrIiq4qWuNNnY5v7PyywqMiDiyFw+sYK8pMkh1vhygpeS3oqYJmEq1bP24tmxnZBLdviYvtfa8MAHybrKRx4Xk0y3f+SGKolEURaH3rJEk+AP7IdnK9NXq1AAAAABJRU5ErkJggg=="},"263":function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAdCAYAAACnmDyCAAAACXBIWXMAAAsSAAALEgHS3X78AAABdUlEQVRIiaWVz3GCQBTGPzO5J3eZjRe5cIipQDuI6cBUkHQQqEDtwA4SO9AKojO8y57E2QJiBWReZiEo+wfkm+HA8vjt98F7gDzPvUeapgNfzQ08IqIYwIaI7l2VThARTQB8AHgAELtqe2zLAmEHOw0p9BJF0VdbR/EFhLWyRTSCiGgK4M1w6Y5hpntq0fSOB32TTa9RFJ0BTY5WHghrQUQDK4iIZgCePRCYIpYgvcOiAaTQmIjeTY6aRLrUnIhGJUiTxy0hVQPopWnKxO8rIYWSWwD8bJKOIPuItJV3+hs7yob9WE94F+3/oh3DgKf8sQPoqYjGHX26EpIIqXblwz6GAffSvCVkL6T6b0iWkIrHY9sCctJJAMNbaxMx5kjFSa2PjmHAH7VPD2QrpJpUF2p9JKTib/LaATmLZAVpuSLOhFSHRiAh1Q+AqeHSWjuuyToiQqoNgGVlyRjJ6agiHp9Mn0+1U7N8//Rs2B9lw/7CWZfn+AXxHOW9yHHYKgAAAABJRU5ErkJggg=="},"264":function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAdCAYAAACnmDyCAAAACXBIWXMAAAsSAAALEgHS3X78AAABW0lEQVRIiaWV3VWDQBCFb3Lyrh3I+zyoFagViBVICSnBdJB0kA6MFagVCOdwC7ADrQDP4C5nkwzLAvcJ2OVj7jI/i6ZpEBPJS10WkZ/YvmWU8q89gMPQpiiI5BrAI4A7d92rXmskMwAlgIvg8a2IlGMj2p9A/DNTJojki9oxlq7d2pnOrJG8AfAViRSWRSui3vADHXxamCCSWw0/AXQF4MhiZ43kPYD3BEioBxH56EAuzNJ9aYx+AWSa9d7adgIELj3aM13UdZ0DeJ0ACfW0AqC2NjNB2WD1pyql+pO0IqmH9TyT86kRrd1vnCp9N1+6zpfPABVdHrns3E2AvIlI2z3Dw9ba+R4B0b2Fv+lAEywW4UA4+v2ux6Qk584XqwlyMLVYRSDVaQsxQT7sSEoU1owzQc6i1Zs3fVMkWmsk9Rz8EKhERPu5qaFa8xbb7I1tTJn9CtAuqM3PFoA/QJ17paVCTtUAAAAASUVORK5CYII="},"265":function(e,t,n){},"267":function(e,t,n){},"269":function(e,t,n){},"328":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"dispatchSearchResult",function(){return q}),n.d(r,"onCancelSearch",function(){return D});var o=n(0),a=n(40),i=n(2),c=n(11),s=n(116),l=n(315),u=(n(9),n(21)),A=n(4),p=n.n(A),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var d={"switch":"switch","checkbox":"check"};var m=function(e){function Switch(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Switch);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Switch.__proto__||Object.getPrototypeOf(Switch)).apply(this,arguments));return e.state={"checked":e.props.checked},e.switchChange=e.switchChange.bind(e),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Switch,o["l"].Component),h(Switch,[{"key":"switchChange","value":function switchChange(e){var t=this.props.onChange;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.checked}}),t&&t(e),this.setState({"checked":e.target.checked})}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){e.hasOwnProperty("checked")&&this.setState({"checked":e.checked})}},{"key":"render","value":function render(){var e=this.props,t=e.type,n=void 0===t?"switch":t,r=e.className,a=e.color,i=p()(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}({},"weui-"+function parseType(e){if(!d[e])throw new Error("unexpected type");return d[e]}(n),!0),r),c=void 0;return c=this.state.checked?{"borderColor":a||"04BE02","backgroundColor":a||"04BE02"}:"",o.l.createElement("input",f({},Object(u.a)(this.props,["className","checked","onChange"]),{"className":i,"checked":this.state.checked,"type":"checkbox","onChange":this.switchChange,"style":c}))}}]),Switch}(),y=(n(260),n(262)),g=n.n(y),v=n(263),b=n.n(v),w=n(264),_=n.n(w),C=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var E=[{"sortName":"0","name":"综合排序"},{"sortName":"2","name":"高佣金比"},{"sortName":"4","name":"销量","sortType":"1"},{"sortName":"1","name":"价格","sortType":"1"}],O=function(e){function Index(){!function screen_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function screen_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.state={"current":"0","isCoupon":"0"},e}return function screen_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,i["a"].Component),C(Index,[{"key":"handleClick","value":function handleClick(e){var t=E.map(function(t){return t.sortName===e.sortName&&t.sortType?t.sortType="1"===t.sortType?"2":"1":t.sortName!==e.sortName&&t.sortType&&(t.sortType="1"),t});this.setState({"current":e.sortName,"tabs":t}),this.props.onSwitchTab(e)}},{"key":"switchCoupon","value":function switchCoupon(){var e="0"===this.state.isCoupon?"1":"0";this.setState({"isCoupon":e}),this.props.onSwitchTab({"isCoupon":e})}},{"key":"render","value":function render(){var e=this,t=this.state.current;return o.l.createElement(c.a,{"className":"screen"},o.l.createElement(c.a,{"className":"screen-tabs"},E.map(function(n,r){var a=n.sortName===t;return o.l.createElement(c.a,{"className":"tab-item","key":r,"onClick":e.handleClick.bind(e,n)},o.l.createElement(s.a,{"className":p()("tab-item__name",a&&"tab-item__name--active")},n.name),n.sortType&&o.l.createElement(l.a,{"className":"tab-item__icon","src":a?"2"===n.sortType?b.a:g.a:_.a}))})),o.l.createElement(c.a,{"className":"screen-switch"},o.l.createElement(c.a,{"className":"screen-switch__title"},"仅显示优惠券商品"),o.l.createElement(m,{"color":"#e1251b","onChange":this.switchCoupon.bind()})))}}]),Index}(),k=n(166),x=n(121),S=(n(265),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var j=function(e){function Index(){!function input_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function input_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.state={"value":"","isCancel":!1},e}return function input_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,i["a"].Component),S(Index,[{"key":"bindValueInput","value":function bindValueInput(e){e.detail.value||this.setState({"isCancel":!1}),this.setState({"value":e.detail.value})}},{"key":"handleClick","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.value){t.next=2;break}return t.abrupt("return");case 2:this.setState({"isCancel":!0}),Object.assign(e,{"keyword":this.state.value}),this.props.onActionClick(e);case 5:case"end":return t.stop()}},_callee,this)}));return function handleClick(t){return e.apply(this,arguments)}}()},{"key":"handleCancel","value":function handleCancel(){this.setState({"isCancel":!1,"value":""}),this.props.onCancleClick({"isCancel":this.state.isCancel})}},{"key":"onChange","value":function onChange(e){this.setState({"value":e})}},{"key":"componentDidMount","value":function componentDidMount(){this.props.onRef&&this.props.onRef(this)}},{"key":"render","value":function render(){return o.l.createElement(c.a,{"className":"search-container"},o.l.createElement(c.a,{"className":"search-input__icon"},o.l.createElement(x.a,{"value":"search","size":"16","color":"#666"})),o.l.createElement(k.a,{"className":"search-input","type":"text","placeholder":"搜索","focus":!0,"onInput":this.bindValueInput,"value":this.state.value}),this.state.isCancel?o.l.createElement(c.a,{"className":" search-button search-button__cancel","onClick":this.handleCancel.bind(this)},"取消"):o.l.createElement(c.a,{"className":"search-buttons"},o.l.createElement(c.a,{"className":"search-button","onClick":this.handleClick.bind(this,{"owner":"1"})},"搜自营"),o.l.createElement(c.a,{"className":"search-button","onClick":this.handleClick.bind(this,{"owner":"0"})},"搜京东全站")))}}]),Index}(),I=(n(267),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var P,R=function(e){function Index(){!function history_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function history_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.state={"tags":["三只松鼠","防雾霾口罩"]},e}return function history_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,i["a"].Component),I(Index,[{"key":"selectTag","value":function(){var e=function history_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:this.props.onClick(e);case 1:case"end":return t.stop()}},_callee,this)}));return function selectTag(t){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this;return o.l.createElement(c.a,{"className":"search-history"},o.l.createElement(c.a,{"className":"search-history__title"},o.l.createElement(s.a,{"className":"search-history__title-delete"},"搜索历史"),o.l.createElement(x.a,{"value":"trash","size":"16","color":"#333"})),o.l.createElement(c.a,{"className":"search-history__list"},this.state.tags.map(function(t,n){return o.l.createElement(s.a,{"onClick":e.selectTag.bind(e,t),"key":n,"className":"search-history__list--tag"},t)})))}}]),Index}(),L=n(130),T=n(117),N=n(17),B=n(122),H=n(141),q=function dispatchSearchResult(e){return Object(H.a)({"url":B.i,"type":N.b,"payload":e})},D=function onCancelSearch(e){return{"type":N.a,"payload":e}},M=n(134),V=n(22),Q=(n(269),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),W=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function search_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}t.default=Object(V.b)(function(e){return e.search},G({},r))(P=function(e){function Search(){!function search_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Search);var e=function search_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Search.__proto__||Object.getPrototypeOf(Search)).apply(this,arguments));return e.config={"navigationBarTitleText":"搜索商品"},e.state={"loading":!0,"hasMore":!1,"showResult":!1,"isReachBottom":!1,"filtes":{"keyword":"","owner":"1","isCoupon":"0","sortName":"0","sortType":"1"}},e}return function search_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Search,i["a"].Component),Q(Search,[{"key":"fetchSearchResult","value":function fetchSearchResult(e){var t=this,n=Object.assign(this.state.filtes,e);this.props.dispatchSearchResult(n).then(function(e){0===e.totalCount&&t.setState({"hasMore":!0}),t.setState({"loading":!1})})}},{"key":"handerSearch","value":function(){var e=search_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:this.setState({"showResult":!0,"loading":!0}),this.fetchSearchResult(e);case 2:case"end":return t.stop()}},_callee,this)}));return function handerSearch(t){return e.apply(this,arguments)}}()},{"key":"handerCancel","value":function handerCancel(){this.props.onCancelSearch(),this.setState({"showResult":!1,"hasMore":!1,"loading":!0,"isReachBottom":!1})}},{"key":"switchTab","value":function(){var e=search_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(M.a)(0);case 2:return t.next=4,this.setState({"loading":!0,"isReachBottom":!1,"hasMore":!1});case 4:this.fetchSearchResult(Object.assign(e,{"pageNum":"1"}));case 5:case"end":return t.stop()}},_callee2,this)}));return function switchTab(t){return e.apply(this,arguments)}}()},{"key":"onReachBottom","value":function(){var e=search_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:this.setState({"loading":!0,"isReachBottom":!0}),this.fetchSearchResult({"pageNum":this.props.goodsList.nextPage});case 2:case"end":return e.stop()}},_callee3,this)}));return function onReachBottom(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=search_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},_callee4,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.handerCancel()}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.loading,r=t.hasMore,a=t.showResult,i=t.isReachBottom,s=this.props.result;return o.l.createElement(c.a,{"className":"search"},o.l.createElement(j,{"onActionClick":this.handerSearch.bind(this),"onCancleClick":this.handerCancel.bind(this),"onRef":function onRef(t){e.searchInput=t}}),a?o.l.createElement(c.a,{"className":"search-result"},o.l.createElement(O,{"onSwitchTab":this.switchTab.bind(this)}),o.l.createElement(c.a,{"className":"result-goods"},!i&&o.l.createElement(T.a,{"loading":n,"hasMore":r,"fontSize":28,"content":"没有查询到相关商品～"}),o.l.createElement(c.a,{"className":"result-goods__item"},o.l.createElement(L.a,{"goodsList":s})),i&&o.l.createElement(T.a,{"loading":n,"hasMore":r,"fontSize":28,"content":"我也是有底线的～"}))):o.l.createElement(R,{"onClick":function onClick(t){e.searchInput.onChange&&e.searchInput.onChange(t)}}))}},{"key":"componentDidShow","value":function componentDidShow(){W(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"componentDidShow",this)&&W(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"componentDidShow",this).call(this),this._offReachBottom=Object(a.a)({"callback":this.onReachBottom,"ctx":this,"onReachBottomDistance":void 0})}},{"key":"componentDidHide","value":function componentDidHide(){W(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"componentDidHide",this)&&W(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"componentDidHide",this).call(this),this._offReachBottom&&this._offReachBottom()}}]),Search}())||P}}]);